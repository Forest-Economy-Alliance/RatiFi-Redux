const CACHE_NAME="app-static-v2",PRECACHED_ASSETS=["/","/index.html","/offline.html"],syncPendingClaims=(self.addEventListener("install",e=>{e.waitUntil(caches.open(CACHE_NAME).then(e=>e.addAll(PRECACHED_ASSETS))),self.skipWaiting()}),self.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(e=>Promise.all(e.map(e=>{if(e!==CACHE_NAME)return caches.delete(e)})))),self.clients.claim()}),self.addEventListener("fetch",e=>{let n=e.request;n.url.startsWith(self.location.origin)&&e.respondWith(caches.match(n).then(e=>e||fetch(n).then(t=>"GET"===n.method?caches.open(CACHE_NAME).then(e=>(e.put(n,t.clone()),t)):t).catch(()=>{if("navigate"===n.mode)return caches.match("/offline.html")})))}),self.addEventListener("sync",e=>{"sync-claim-docs"===e.tag&&e.waitUntil(syncPendingClaims())}),async()=>{try{console.log("Starting background sync for pending claims...")}catch(e){console.error("Error during sync:",e)}});